function setCookie(e,t,a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3);var n="expires="+o.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}function disableFunction(){document.getElementById("send").disabled="true"}function validateEmail(e){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)}function resetFormElement(e){e.wrap("<form>").closest("form").get(0).reset(),e.unwrap()}function countchars(){jQuery("#count").text("Tagline Characters: "+jQuery("#tagline").val().length)}function slug(e){if(e=e||0,1==slug_enabled||1==e){var t=document.getElementById("title").value;$.ajax({type:"POST",url:"/includes/ajax/slug.php",datatype:"text",data:{title:t},success:function(e){$("#slug").val(e)}})}}jQuery.fn.scrollMinimal=function(e){var t=this.offset().top,a=this.outerHeight(!0),o=$(window).scrollTop(),n=$(window).height();t<o?e?$("body").animate({scrollTop:t},"slow","swing"):$(window).scrollTop(t):t+a>o+n&&(e?$("body").animate({scrollTop:t-n+a},"slow","swing"):$(window).scrollTop(t-n+a))},jQuery.fn.highlight=function(){$(this).each(function(){var e=$(this);$("<div/>").width(e.width()).height(e.height()).css({position:"absolute",left:e.offset().left,top:e.offset().top,"background-color":"#ffff99",opacity:".7","z-index":"9999999"}).appendTo("body").fadeOut(1e3).queue(function(){$(this).remove()})})};var slug_enabled=!1,current_url=$(location).attr("pathname")+$(location).attr("search");if("/admin.php?module=add_article"==current_url)var slug_enabled=!0;$(function(){$("#slug_edit").on("click",function(e){e.preventDefault(),slug_enabled=!1,document.getElementById("slug").removeAttribute("readonly")})}),$(function(){$("#slug_update").on("click",function(e){e.preventDefault(),slug(1)})}),$(function(){$(document).on("click",".trash",function(){var e=$(this).attr("id");$.ajax({type:"POST",url:"/includes/ajax/delete_image.php",data:{image_id:e},success:function(t){"YES"==t?($("div[id='"+e+"']").replaceWith('<div class="col-md-12" style="background-color: #15e563; padding: 5px;">Image Deleted</div>'),$("html, body").animate({scrollTop:$("#preview").offset().top},0)):alert("can't delete the row")}})})}),$(function(){$(document).on("click",".trash_tagline",function(){var e=$(this).attr("id");$.ajax({type:"POST",url:"/includes/ajax/delete_tagline_image.php",data:{image_id:e},success:function(t){"YES"==t?($("div[id='"+e+"']").replaceWith('<div class="col-md-12" style="background-color: #15e563; padding: 5px;">Image Deleted</div>'),$("html, body").animate({scrollTop:$("#preview2").offset().top},0)):alert("can't delete the row")}})})}),jQuery(document).ready(function(){if(window.location.hash){var e=window.location.hash.substring(1),t=function(e){var t,a,o=decodeURIComponent(window.location.search.substring(1)).split("&");for(a=0;a<o.length;a++)if((t=o[a].split("="))[0]===e)return void 0===t[1]||t[1]}("module");void 0===t&&(to_check={"users/statistics":"statistics"},$.each(to_check,function(e,t){if(window.location.href.indexOf(e)>-1);})),void 0!==t&&"statistics"==t&&("trends"==e?($("#trends").show(),$("#monthly").hide()):"monthly"==e&&($("#trends").hide(),$("#monthly").show()))}$(".remove_announce").on("click",function(e){e.preventDefault(),setCookie("gol_announce_"+$(this).attr("data-announce-id"),"set",60),$(this).closest(".announce").hide()}),$("#trends_link").on("click",function(e){e.preventDefault(),document.location.hash="#trends",$("#trends").show(),$("#monthly").hide()}),$("#monthly_link").on("click",function(e){e.preventDefault(),document.location.hash="#monthly",$("#trends").hide(),$("#monthly").show()}),$(".toggle-nav > a").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this).closest(".toggle-nav").children(".toggle-content");t.hasClass("toggle-active")?$(t).removeClass("toggle-active"):($(".toggle-content").removeClass("toggle-active"),$(t).addClass("toggle-active"))}),$(document).on("click",function(){$(".toggle-content").removeClass("toggle-active")});var a=/^\s*[a-zA-Z0-9-_]+\s*$/;$(".keyup-char").keyup(function(){$("span.error-keyup-1").hide();var e=$(this).val();a.test(e)?$(this).parent().find(".register-warning").hide():$(this).parent().find(".register-warning").show()}),$(".keyup-char-email").keyup(function(){$("div.error-keyup-1").hide(),$("div.error-keyup-2").hide(),validateEmail($(this).val())?($(this).parent().find(".register-warning").hide(),$(this).parent().find(".all-ok").show()):($(this).parent().find(".register-warning").show(),$(this).parent().find(".all-ok").hide())}),$.isFunction($.fn.select2)&&($("#articleCategories").select2({selectOnClose:!0,width:"100%",ajax:{url:"/includes/ajax/categories_ajax.php",dataType:"json",delay:250,data:function(e){return{q:e.term}},processResults:function(e){return{results:$.map(e,function(e){return{id:e.id,text:e.text}})}},cache:!0},minimumInputLength:2}),$("#gpu_picker").select2({selectOnClose:!0,width:"100%",ajax:{url:"/includes/ajax/gpu_ajax.php",dataType:"json",delay:250,data:function(e){return{q:e.term}},processResults:function(e){return{results:$.map(e,function(e){return{id:e.id,text:e.text}})}},cache:!0},minimumInputLength:2}),$(".call_usernames").select2({selectOnClose:!0,width:"100%",ajax:{url:"/includes/ajax/call_usernames.php",dataType:"json",delay:250,data:function(e){return{q:e.term}},processResults:function(e){return{results:$.map(e,function(e){return{id:e.id,text:e.text}})}},cache:!0},minimumInputLength:2}),$(".call_user_groups").select2({selectOnClose:!0,width:"100%",ajax:{url:"/includes/ajax/call_user_groups.php",dataType:"json",delay:250,data:function(e){return{q:e.term}},processResults:function(e){return{results:$.map(e,function(e){return{id:e.id,text:e.text}})}},cache:!0},minimumInputLength:2}),$(".call_modules").select2({selectOnClose:!0,width:"100%",ajax:{url:"/includes/ajax/call_modules.php",dataType:"json",delay:250,data:function(e){return{q:e.term}},processResults:function(e){return{results:$.map(e,function(e){return{id:e.id,text:e.text}})}},cache:!0},minimumInputLength:2}));new Clipboard(".btn");$(".fancybox-thumb").fancybox({prevEffect:"none",nextEffect:"none",helpers:{title:{type:"outside"},thumbs:{width:50,height:50}}}),$(".computer_deets").fancybox({maxWidth:800,maxHeight:600,fitToView:!1,width:"70%",height:"60%",autoSize:!1,closeClick:!1,openEffect:"none",closeEffect:"none"}),$(".post_link").on("click",function(e){e.preventDefault();var t=$(this).attr("data-post-id"),a=$(this).attr("data-type");console.log(t),$.fancybox({maxWidth:800,maxHeight:300,fitToView:!1,width:"70%",height:"28%",autoSize:!1,closeClick:!1,openEffect:"none",closeEffect:"none",title:null,href:"/includes/ajax/call_post_link.php?post_id="+t+"&type="+a,type:"ajax"})}),$(".who_likes").fancybox({maxWidth:800,maxHeight:600,fitToView:!1,width:"70%",height:"60%",autoSize:!1,closeClick:!1,openEffect:"none",closeEffect:"none"}),$(".gallery_tagline").fancybox({fitToView:!1,width:"80%",height:"80%",autoSize:!1,closeClick:!1,openEffect:"none",closeEffect:"none",autoCenter:!1}),$("form").areYouSure();var o=2;$("#add-poll").click(function(){$("#pquestion").prop("disabled",!1),$(".poll-option").prop("disabled",!1),$("#addButton").prop("disabled",!1),$("#removeButton").prop("disabled",!1),$("#create-poll").show()}),$("#delete-poll").click(function(){$("#pquestion").prop("disabled",!0),$(".poll-option").prop("disabled",!0),$("#addButton").prop("disabled",!0),$("#removeButton").prop("disabled",!0),$("#create-poll").hide()}),$("#addButton").click(function(){o++;var e=$(document.createElement("div")).attr("id","TextBoxDiv"+o);e.after().html('<input type="text" name="poption[]" class="poll-option" id="option'+o+'" value="" />'),e.appendTo("#TextBoxesGroup")}),$("#removeButton").click(function(){$("#TextBoxDiv"+o).remove(),o--}),$(document).on("click",".collapse_header",function(){$header=$(this),$content=$header.next(),$content.slideToggle(500)}),$(".quote_function").click(function(){return $("html, body").animate({scrollTop:$(".octus-editor").offset().top},1e3),!1}),$("#tagline").length>0&&(countchars(),jQuery("#tagline").mousedown(countchars),jQuery("#tagline").keyup(countchars)),$("#title").length>0&&1==slug_enabled&&(slug(),jQuery("#title").mousedown(slug),jQuery("#title").keyup(slug)),$(".fancybox").fancybox(),$("#photoimg").off("click").on("change",function(){$("#imageform").ajaxForm({beforeSubmit:function(){$("#imageloadstatus").show(),$("#imageloadbutton").hide()},success:function(e){$("#preview").append(e),$("#imageloadstatus").hide(),$("#imageloadbutton").show(),resetFormElement($("#photoimg"))},error:function(e){$("#preview").append(e),$("#imageloadstatus").hide(),$("#imageloadbutton").show(),resetFormElement($("#photoimg"))}}).submit()}),$("#photoimg2").off("click").on("change",function(){$("#imageform2").ajaxForm({target:"#preview2",beforeSubmit:function(){$("#imageloadstatus2").show(),$("#imageloadbutton2").hide()},success:function(){$("#imageloadstatus2").hide(),$("#imageloadbutton2").show(),resetFormElement($("#photoimg2"))},error:function(){$("#imageloadstatus2").hide(),$("#imageloadbutton2").show(),resetFormElement($("#photoimg2"))}}).submit()}),$(".like-button").show(),$(".likebutton").click(function(){var e=$(this).parents(".comment")[0],t=$(this).attr("data-id"),a=$(this).attr("data-author-id"),o=$(this).attr("data-article-id"),n=$(this).attr("data-type"),i=$(this);$.post("/includes/ajax/like.php",{comment_id:t,author_id:a,article_id:o,type:n,sta:i.find("span").text().toLowerCase()},function(a){if("liked"===a){var o=(l=$("#"+t+" div.likes")).html().replace(" Likes",""),n="";(o=parseInt(o)+1)>0&&(n=', <a class="who_likes fancybox.ajax" data-fancybox-type="ajax" href="/includes/ajax/who_likes.php?comment_id='+t+'">Who?</a>'),l.html(o+" Likes"+n),(s=$(e).find(".likebutton span")).text("Unlike").removeClass("like").addClass("unlike")}else if("unliked"===a){var l=$("#"+t+" div.likes"),o=l.html().replace(" Likes",""),n="";(o=parseInt(o)-1)>0&&(n=', <a class="who_likes fancybox.ajax" data-fancybox-type="ajax" href="/includes/ajax/who_likes.php?comment_id='+t+'">Who?</a>'),l.html(o+" Likes"+n);var s=$(e).find(".likebutton span");s.text("Like").removeClass("unlike").addClass("like")}else"5"===a&&i.qtip({content:{text:'You need to be <a href="/index.php?module=login">logged in</a> to like a post. Or <a href="/index.php?module=register">register</a> to become a GOL member'},position:{my:"bottom center",at:"top center"},style:{classes:"qtip-bootstrap qtip-shadow"},hide:{delay:2e3},show:!0})})}),$(".likearticle").click(function(){var e=$(this).parents(".likes")[0],t=$(this).attr("data-id"),a=$("#article-likes"),o=$(this).attr("data-type"),n=$(this);$.post("/includes/ajax/like.php",{article_id:t,type:o,sta:n.find("span").text().toLowerCase()},function(o){if("liked"===o){var i=a.html().replace(" Likes",""),l="";(i=parseInt(i)+1)>0&&(l=', <a class="who_likes fancybox.ajax" data-fancybox-type="ajax" href="/includes/ajax/who_likes.php?article_id='+t+'">Who?</a>'),$("#who-likes-article").html(l),a.html(i+" Likes"),(s=$(e).find(".likearticle span")).text("Unlike").removeClass("like").addClass("unlike")}else if("unliked"===o){var i=a.html().replace(" Likes",""),l="";(i=parseInt(i)-1)>0&&(l=', <a class="who_likes fancybox.ajax" data-fancybox-type="ajax" href="/includes/ajax/who_likes.php?article_id='+t+'">Who?</a>'),$("#who-likes-article").html(l),a.html(i+" Likes");var s=$(e).find(".likearticle span");s.text("Like").removeClass("unlike").addClass("like")}else"5"===o&&n.qtip({content:{text:'You need to be <a href="/index.php?module=login">logged in</a> to like a post. Or <a href="/index.php?module=register">register</a> to become a GOL member'},position:{my:"bottom center",at:"top center"},style:{classes:"qtip-bootstrap qtip-shadow"},hide:{delay:2e3},show:!0})})}),$(".bookmark-content").click(function(e){e.preventDefault();var t=$(this).data("id"),a=$(this).data("type"),o=$(this).data("method"),n=$(this).data("page"),i=$(this).data("parent-id"),l=$(this);$.post("/includes/ajax/bookmark-content.php",{id:t,type:a,method:o,parent_id:i},function(e){"added"==e.result?(l.data("method","remove"),l.addClass("bookmark-saved"),l.attr("title","Remove Bookmark")):(e.result="removed")&&("usercp"!=n?(l.data("method","add"),l.removeClass("bookmark-saved"),l.attr("title","Bookmark")):"usercp"==n&&l.parent().parent().parent().fadeOut(500))})});$(".delete_notification").click(function(e){e.preventDefault();var t=$(this).data("note-id");$.post("/includes/ajax/delete-notification.php",{note_id:t},function(e){1==(e=JSON.parse(e)).result&&($("#note-"+t+" img").hasClass("envelope")&&$("#notes-counter").html(parseInt($("#notes-counter").html(),10)-1),$("#note-"+t).find("span").remove(),$("#note-"+t).fadeOut(500),0===parseInt($("#notes-counter").text())&&($("#alert_box").toggleClass("alerts-box-new alerts-box-normal"),$("#notes-counter").remove()))})});$(".poll_content").on("click",".close_poll",function(){var e=$(this).data("poll-id");$.post("/includes/ajax/close_poll.php",{poll_id:e},function(t){1==t.result?($(".poll_content").load("/includes/ajax/poll_results.php",{poll_id:e}),window.alert("Poll closed!")):2==t.result&&window.alert("Sorry, I am unable to do that.")})}),$(".poll_content").on("click",".open_poll",function(){var e=$(this).data("poll-id");$.post("/includes/ajax/open_poll.php",{poll_id:e},function(t){1==t.result?($(".poll_content").load("/includes/ajax/poll_results.php",{poll_id:e}),window.alert("Poll opened!")):2==t.result?($(".poll_content").load("/includes/ajax/poll_options.php",{poll_id:e}),window.alert("Poll opened!")):3==t.result&&window.alert("Sorry, I am unable to do that.")})}),$(".poll_content").on("click",".results_button",function(){var e=$(this).data("poll-id");$(".poll_content").load("/includes/ajax/poll_results.php",{poll_id:e})}),$(".poll_content").on("click",".poll_button_vote",function(){var e=$(this),t=$(this).data("poll-id"),a=$(this).data("option-id");$.post("/includes/ajax/poll_vote.php",{poll_id:t,option_id:a},function(a){1==a.result?$(".poll_content").load("/includes/ajax/poll_results.php",{poll_id:t}):2==a.result?window.alert("Sorry, but voting is closed!"):3==a.result?window.alert("Sorry, but you have already voted in this poll!"):(e.text("Try again later, something broke").attr("disabled","disabled"),setTimeout(function(){e.removeAttr("disabled")},2e3))})}),$(".poll_content").on("click",".back_vote_button",function(){var e=$(this).data("poll-id");$(".poll_content").load("/includes/ajax/poll_options.php",{poll_id:e})}),$(document).on("click","#claim_key",function(e){e.preventDefault();var t=$(this).attr("data-game-id");$.post("/includes/ajax/claim_key.php",{giveaway_id:t},function(e){console.log(e.result),1==e.result&&$("#key-area").text("Here's your key: "+e.key),3==e.result&&$("#key-area").text("You have to login to redeem a key!")})}),$(document).on("click","#pc_info_update",function(e){e.preventDefault(),$.post("/includes/ajax/pc-info-update.php",function(e){1==e.result&&($("#pc_info_done").show(),$("#pc_info_done").html("<br />Thank you, your PC info has been updated!"))})}),$(".votebutton").click(function(){var e=$(this),t=$(this).data("category-id"),a=$(this).data("game-id");$.post("/includes/ajax/goty_vote.php",{category_id:t,game_id:a},function(t){1==t.result?($(e).html("Vote Saved!"),$(e).addClass("vote_done"),$.fancybox.open({type:"inline",href:"#wrap"})):2==t.result?(document.getElementById("wrap_text").innerHTML="Sorry, but voting is closed!",$.fancybox.open({type:"inline",href:"#wrap"})):3==t.result?(document.getElementById("wrap_text").innerHTML="Sorry, but you have already voted in this category!",$.fancybox.open({type:"inline",href:"#wrap"})):(e.text("Try again later, something broke").attr("disabled","disabled"),setTimeout(function(){e.removeAttr("disabled")},2e3))})}),$(".uploads").on("click",".add_button",function(){var e=$(this).data("bbcode");$(".bbcode_editor").val($(".bbcode_editor").val()+e)}),$("#generate_preview").click(function(){var e=$(this).data("article-id");$.post("/includes/ajax/generate_preview_code.php",{article_id:e}).done(function(e){$("#preview_code").val(e)})}),$(document).on("click","#subscribe-link",function(e){e.preventDefault();var t=$(this).attr("data-sub"),a=$(this).attr("data-article-id");$.post("/includes/ajax/subscribe-article.php",{type:t,"article-id":a},function(e){var t=JSON.parse(e);"subscribed"==t.result?($("#subscribe-link").attr("data-sub","unsubscribe"),$("#subscribe-link").attr("href","/index.php?module=articles_full&amp;go=unsubscribe&amp;article_id="+a),$("#subscribe-link span").text("Unsubscribe from comments")):"unsubscribed"==t.result&&($("#subscribe-link").attr("data-sub","subscribe"),$("#subscribe-link").attr("href","/index.php?module=articles_full&amp;go=subscribe&amp;article_id="+a),$("#subscribe-link span").text("Subscribe to comments"))})}),$(document).on("click",".gallery_item",function(){var e=$(this).data("filename"),t=$(this).data("id");$("#preview2").html('<img src="/uploads/tagline_gallery/'+e+'" alt="image" />'),$.fancybox.close(),$.post("/includes/ajax/gallery_tagline_sessions.php",{id:t,filename:e})}),$("#preview_text_button").click(function(){var e=$(".bbcode_editor").val();$(".pm_text_preview").load("/includes/ajax/call_bbcode.php",{text:e}),$(".preview_pm").show(),$("#preview").scrollMinimal(),$(".preview_pm").highlight()}),$("#preview_chart").click(function(){var e=document.getElementById("chart_form"),t=new FormData(e);$.ajax({url:"/includes/ajax/preview_chart.php",data:t,cache:!1,processData:!1,contentType:!1,type:"POST",success:function(e){$(".chart_preview").html(e)}})});var n=$(".labels").length,i=$(".colours").length,l=$(".data").length;$(document).on("click","#add_label",function(){n++,i++,l++,$("#label_container").append('<div id="label-'+n+'" class="input-field box fleft" style="width: 50%"><span class="addon">Label #'+n+':</span><input type="text" class="labels" name="labels[]" placeholder="label '+n+'" /></div><div id="colour-'+n+'" class="input-field box fleft" style="width: 50%"><span class="addon">Colour #'+n+':</span><input class="colours" type="text" name="colours[]" placeholder="#ffffff" /></div>'),1==$("#chart_grouped").prop("checked")?$("#data_container").append('<div id="data-'+l+'" class="box">Data for Label #'+l+'<textarea class="data" name="data-'+l+'" cols="100" rows="10"></textarea></div>'):$("#data_container").append('<div id="data-'+l+'" class="box">Data for Label #'+l+'<input class="data" type="text" name="data-'+l+'" /></div>')}),$(document).on("click","#remove_label",function(){$("#label-"+n).remove(),$("#colour-"+i).remove(),$("#data-"+l).remove(),n--,i--,l--}),$(document).on("click","#chart_grouped",function(){1==$(this).prop("checked")?$("input.data").each(function(){var e=$(this).attr("name"),t=$(document.createElement("textarea")).attr("class","data").attr("name",e).attr("rows",10);$(this).replaceWith(t)}):$("textarea.data").each(function(){var e=$(this).attr("name"),t=$(document.createElement("input")).attr("class","data").attr("name",e).attr("type","text");$(this).replaceWith(t)})})});
