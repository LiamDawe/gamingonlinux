function gol_editor(e){var t="bar_"+e,l=document.getElementById(e);function n(){var e=this.dataset.tag;this.dataset.subtag?o(e,this.dataset.subtag):o(e)}function i(){!function(e){var t,n;l.focus(),void 0!==l.selectionStart?t=l.value.slice(l.selectionStart,l.selectionEnd):document.selection&&"Control"!=document.selection.type&&(t=document.selection.createRange().text);if(popUpData=a(e,t),null===popUpData||"undefined"==typeof popUpData)return;e=popUpData[0],t=popUpData[1],n=e+t,document.execCommand("insertText",!1,n)||(l.value=l.value.slice(0,l.selectionStart)+n+l.value.slice(l.selectionEnd))}(this.dataset.snippet)}function o(e,t){var n,i,o,u;t=void 0!==t?"="+t:"",l.focus(),void 0!==l.selectionStart?n=l.value.slice(l.selectionStart,l.selectionEnd):document.selection&&"Control"!=document.selection.type&&(n=document.selection.createRange().text),"list"==e&&(list_data=(u="[li]"+(u=n).replace(/\r\n/g,"\r\n[/li]").replace(/[\r\n]/g,"[/li]\r\n[li]")+"[/li]",list_nospaces=u.replace(/\[li\] +/gm,"[li]"),list_nospaces),n=list_data,e="ul"),null!=(o=a(e,t,n))&&(e=o[0],t=o[1],n=o[2],i="url"==e?"["+n+"]("+t+")":"["+e+t+"]"+n+"[/"+e+"]",document.execCommand("insertText",!1,i)||(l.value=l.value.slice(0,l.selectionStart)+i+l.value.slice(l.selectionEnd)))}function a(e,t,l){var n,i,o;if("youtube"==e){if(n=l,o=document.getElementById("youtube-bbcode").getAttribute("data-limit"),""===n&&(n=window.prompt("Enter YouTube URL, limited to "+o+" per post")),null===(l=null!=n?null===(i=n.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i))?null:i[1]:null))return null}else if("url"==e&&""!=l){if(null===(t=window.prompt("Enter a valid URL"))||""===t)return null}else if("url"==e&&""===l){if(null===(t=window.prompt("Enter a valid URL"))||""===t)return null;null!==(l=window.prompt("URL link text"))&&""!==l||(l="link")}return[e,t,l]}document.onkeydown=function(t){if(document.getElementById(e)===document.activeElement){var l=t.keyCode||t.which;if(t.ctrlKey)switch(l){case 66:t.preventDefault(),o("b");break;case 73:t.preventDefault(),o("i");break;case 85:t.preventDefault(),o("u");break;case 76:t.preventDefault(),o("url")}}},function(e){for(var l=document.querySelectorAll("#"+t+" .styles ul li[data-tag]"),o=document.querySelectorAll("#"+t+" .styles ul li[data-snippet]"),a=0;a<l.length;a++)l[a].editor_id=e,l[a].addEventListener("click",n,!1);for(var u=0;u<o.length;u++)o[u].editor_id=e,o[u].addEventListener("click",i,!1)}(t)}